<div class="text-light register-content">
    <h1>Cadastrar Fornecedor</h1>

    <form #formSupplier="ngForm">
        <div class="text-light form-group">
            <label for="nome">Nome:</label>
            <input [(ngModel)]="supplier.name" #name="ngModel" type="text" class="form-control" id="name" name="name" minlength="3" required>
            <div *ngIf="name.errors && (name.dirty || name.touched)" class="alert alert-danger">
                <div [hidden]="!name.errors.required">Digite o nome</div>
                <div [hidden]="!name.errors.minlength">O nome deve conter ao menos 3 caracteres.</div>
            </div> <br>

            <label for="email">Email:</label>
            <input [(ngModel)]="supplier.email" #email="ngModel" type="email" class="form-control" id="email" name="email" required>
            <div *ngIf="email.errors && (email.dirty || email.touched)" class="alert alert-danger">
                <div [hidden]="!email.errors.required">Digite o email</div>
            </div> <br>

            <label for="cep">CEP:</label>
            <input [(ngModel)]="supplier.cep" #cep="ngModel" type="text" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);" class="form-control" id="cep" name="cep" maxlength="9" required>
            <div *ngIf="cep.errors && (cep.dirty || cep.touched)" class="alert alert-danger">
                <div [hidden]="!cep.errors.required">Digite o CEP</div>
                <div [hidden]="!cep.errors.minlength">O CEP deve conter pelo menos 8 numeros.</div>
                <div [hidden]="!cep.errors.minlength" onblur="findCEP(cep.value)">CEP invalido!</div>
            </div> <br>

            <label for="supplierType">Tipo de Fornecedor:</label><br>
            <div class="btn-group" role="group" aria-label="Basic radio toggle button group">
                <input type="radio" class="btn-check" name="btnradio" id="btnradio1" value="0" [(ngModel)]="supplier.supplierType" autocomplete="off" required>
                <label class="btn btn-outline-primary" for="btnradio1">Pessoa Fisica.</label>
                
                <input type="radio" class="btn-check" name="btnradio" id="btnradio2" [(ngModel)]="supplier.supplierType" value="1" autocomplete="off" required>
                <label class="btn btn-outline-primary" for="btnradio2">Pessoa Juridica</label>
            </div><br><br>

            <div *ngIf="supplier.supplierType==0">
                <label for="cpf">CPF:</label>
                <input [(ngModel)]="supplier.cpf" #cpf="ngModel" type="number" class="form-control" id="cpf" maxlength="12" name="cpf" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"> <br>

                <label for="rg">RG:</label>
                <input [(ngModel)]="supplier.rg" #name="ngModel" type="text" class="form-control" id="rg" name="rg" maxlength="10" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"> <br>

                <label for="nome">Data de Nascimento:</label>
                <input #birthDate="ngModel" type="date" class="form-control" id="birthDate" name="birthDate" [(ngModel)]="supplier.birthDate"><br>
            </div>

            <div *ngIf="supplier.supplierType==1">
                <label for="cnpj">CNPJ:</label>
                <input [(ngModel)]="supplier.cnpj" #name="ngModel" type="number" class="form-control" id="cnpj" maxlength="14" name="cnpj" oninput="javascript: if (this.value.length > this.maxLength) this.value = this.value.slice(0, this.maxLength);"> <br>
            </div>
        </div>
        <div class="form-group text-center">
            <input [disabled]="!formSupplier.form.valid" type="submit" class="btn btn-success" value="Cadastrar" (click)="reigster()">
            <a class="btn btn-outline-danger" [routerLink]="'/suppliers'">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span><span></span> Voltar
            </a>
        </div>
    </form>
</div>